# Project Brief: Sound Informer Widget

## Overview
Sound Informer Widget — встраиваемый виджет для отображения интерактивной карты с точками расположения датчиков мониторинга шумового загрязнения. Виджет предназначен для интеграции на сторонние веб-сайты без необходимости модификации существующего кода.

Виджет позволяет отображать интерактивную карту Mapbox с маркерами датчиков, при клике на которые открывается popup с графиком уровня шума за последние 24 часа.

## Core Requirements

### Функциональные требования

**Карта:**
- Отображение интерактивной карты Mapbox
- Поддержка zoom (приближение/отдаление)
- Поддержка pan (перетаскивание карты)
- Настраиваемый начальный центр карты
- Настраиваемый начальный уровень zoom

**Маркеры датчиков:**
- Отображение маркеров в местах расположения датчиков
- Визуальная индикация уровня шума цветом маркера
- Hover-эффект при наведении на маркер
- Клик по маркеру открывает popup с графиком

**Popup с графиком:**
- Popup отображается рядом с выбранным маркером
- Содержит название/ID датчика
- Содержит столбчатый график уровня шума
- Данные графика — почасовые измерения за последние 24 часа
- Кнопка закрытия popup
- Закрытие при клике вне popup

**Встраивание:**
- Инициализация через глобальный объект `SoundInformer`
- Привязка к DOM-элементу по CSS-селектору
- Передача Mapbox API токена через конфигурацию
- Настройка центра и zoom через конфигурацию

## Goals

1. **Простота интеграции** — подключение одного JS файла без модификации кода хост-сайта
2. **Интерактивность** — удобная работа с картой и данными датчиков
3. **Адаптивность** — виджет заполняет размер контейнера, поддержка различных размеров
4. **Изоляция** — виджет не должен конфликтовать со стилями хост-сайта
5. **Многоязычность** — поддержка локализации (en, fr, es, ru)

## Project Scope

### В области проекта:
- Встраиваемый виджет с картой Mapbox
- Маркеры датчиков с цветовой индикацией
- Popup с графиком почасовых измерений
- API для инициализации и конфигурации
- Фейковые данные для демонстрации (mock data)
- Поддержка локализации интерфейса
- Адаптивный дизайн с настраиваемыми размерами

### Вне области проекта (будущие улучшения):
- Backend интеграция — подключение к реальному API датчиков
- Real-time обновления — WebSocket для live данных
- Кластеризация маркеров
- Фильтры по уровню шума, статусу, району
- Экспорт данных
- Темизация (светлая/тёмная тема)
- Мобильная адаптация (touch-события)

## Целевая аудитория
- Владельцы сайтов экологических организаций
- Муниципальные порталы
- Информационные ресурсы о качестве городской среды
