# Product Context: Sound Informer Widget

## Problem Statement

Городские жители и экологические организации нуждаются в простом способе визуализации данных о шумовом загрязнении на своих веб-сайтах. Существующие решения требуют сложной интеграции или не предоставляют удобного API для встраивания.

Проблемы, которые решает проект:
1. **Сложность интеграции** — существующие решения требуют модификации кода сайта
2. **Отсутствие готового виджета** — нет простого способа добавить интерактивную карту с датчиками
3. **Необходимость кастомизации** — каждый сайт должен разрабатывать свое решение с нуля
4. **Отсутствие визуализации** — данные о шуме не представлены в удобном графическом виде

## User Experience Goals

### Для владельцев сайтов:
- **Простота интеграции** — подключение одного JS файла
- **Гибкость настройки** — настройка центра карты, zoom, размеров через конфигурацию
- **Изоляция** — виджет не конфликтует со стилями сайта
- **Адаптивность** — автоматическая адаптация под размер контейнера

### Для конечных пользователей:
- **Интуитивность** — понятная интерактивная карта
- **Информативность** — визуальная индикация уровня шума цветом маркера
- **Детализация** — возможность посмотреть график почасовых измерений
- **Производительность** — быстрая загрузка и плавная работа

## Success Metrics

1. **Простота интеграции**
   - Время интеграции: менее 5 минут
   - Количество строк кода для интеграции: менее 10

2. **Производительность**
   - Время загрузки виджета: менее 2 секунд
   - Плавность анимаций: 60 FPS

3. **Совместимость**
   - Поддержка современных браузеров (Chrome 90+, Firefox 88+, Safari 14+, Edge 90+)
   - Работа на различных размерах экранов

4. **Удобство использования**
   - Интуитивная навигация по карте
   - Понятная визуальная индикация уровня шума
   - Быстрый доступ к детальной информации

## Как должен работать виджет

### Сценарий использования:

1. **Интеграция на сайт:**
   ```html
   <div id="sound-informer"></div>
   <script src="sound-informer.js"></script>
   <script>
     SoundInformer.init({
       container: '#sound-informer',
       mapboxToken: 'pk...',
       height: 'auto'
     });
   </script>
   ```

2. **Отображение карты:**
   - Виджет загружается и отображает карту Mapbox
   - На карте отображаются маркеры датчиков в трех городах (Париж, Барселона, Дахаб)
   - Маркеры окрашены в зависимости от уровня шума

3. **Взаимодействие:**
   - Пользователь может приближать/отдалять карту (zoom)
   - Пользователь может перетаскивать карту (pan)
   - При наведении на маркер — hover эффект
   - При клике на маркер — открывается popup с графиком

4. **Popup с графиком:**
   - Отображается название/ID датчика
   - Столбчатый график показывает почасовые измерения за 24 часа
   - Можно закрыть popup кнопкой или кликом вне popup

## Пользовательский опыт

### Визуальная индикация:
- **Зеленый маркер** — низкий уровень шума (до 50 дБ)
- **Желтый маркер** — умеренный уровень шума (50-70 дБ)
- **Оранжевый маркер** — высокий уровень шума (70-85 дБ)
- **Красный маркер** — опасный уровень шума (более 85 дБ)

### Адаптивность:
- Виджет автоматически заполняет ширину контейнера (100%)
- Высота настраивается через конфигурацию:
  - Фиксированная высота в пикселях
  - Высота в viewport units (vh)
  - Автоматический aspect-ratio 16:9 (рекомендуется)
